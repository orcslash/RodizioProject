<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="reservation"/>
        <cc:attribute name="bean"/>
        <cc:attribute name="title"/>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <div class="form">
            <h:form prependId="false">
                <h3>#{cc.attrs.title}</h3>
                <table  id="newResForm">
                    <tr>
                        <td>
                            #{msgs.date}
                        </td>
                        <td>
                            #{msgs.time}
                        </td>
                        <td>
                            <h:outputText value="#{msgs.people}"/>
                        </td>
                        <td>
                            <h:outputText id="bday" value="#{msgs.bday}"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h:inputText a:placeholder="#{msgs.seldate}" id="date" maxlength="10" styleClass="form-control datepicker formField"  value="#{cc.attrs.reservation.date}" required="true" requiredMessage="#{msgs.requiredDate}" onfocus="hide('#dateMessage')"/>
                            <h:message id="dateMessage" for="date" styleClass="noBulletPoints validateMessage" />
                        </td>
                        <td class="formF">
                            <h:inputText a:placeholder="#{msgs.seltime}"  id="time" maxlength="5" styleClass="form-control timepicker formField" value="#{cc.attrs.reservation.time}" required="true" requiredMessage="#{msgs.requiredTime}" onfocus="hide('#timeMessage')"/>
                            <h:message id="timeMessage" for="time" styleClass="noBulletPoints validateMessage"/>
                        </td>
                        <td class="people">
                            <h:inputText size="1" class="form-control" id="people" value="#{cc.attrs.reservation.people}" required="true" requiredMessage="#{msgs.requiredNumberOfPeople}" validatorMessage="#{msgs.invalidAmount}" onfocus="hide('#amountMessage')">
                                <f:validateDoubleRange minimum="1" maximum="50"/>
                                <f:convertNumber integerOnly="true"/>
                            </h:inputText>
                            <h:message id="amountMessage" for="people" styleClass="noBulletPoints validateMessage"/>
                        </td>
                        <td class="bdayCheck">
                            <h:selectBooleanCheckbox class="BSize" value="#{cc.attrs.reservation.isBirthday}"/>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4">
                            <h:inputText a:placeholder="#{msgs.additionalNotes}" class="form-control formField" value="#{cc.attrs.reservation.additionalNotes}"  />
                        </td>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                        <td>
                            <h:outputLabel value="#{msgs.yourDets}"/>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <h:inputText  a:placeholder="#{msgs.name}" id="name" class="form-control formField" value="#{cc.attrs.reservation.name}" required="true" requiredMessage="#{msgs.requiredName}" validatorMessage="#{msgs.invalidName}" onfocus="hide('#nameMessage')" >
                                <f:validateRegex pattern="#{msgs.nameRegex}"  />
                            </h:inputText>
                            <h:message id="nameMessage" for="name" styleClass="noBulletPoints validateMessage"/>
                        </td>
                    </tr>
                    <tr>
                        <td >
                            <h:inputText a:placeholder="#{msgs.email}" id="email1" class="form-control formField" value="#{cc.attrs.reservation.email}" required="true" requiredMessage="#{msgs.requiredEmail}" validatorMessage="#{msgs.invalidEmail}" onfocus="hide('#emailMessage')" >
                                <f:validateRegex pattern="#{msgs.emailRegex}" />
                            </h:inputText>
                            <h:message id="emailMessage" for="email1" styleClass="noBulletPoints validateMessage"/>
                        </td>
                        <td>
                            <h:inputText a:placeholder="#{msgs.phone}" id="phone" class="form-control formField" value="#{cc.attrs.reservation.phoneNum}" required="true" requiredMessage="#{msgs.requiredPhoneNumber}" validatorMessage="#{msgs.invalidPhoneNumber}" onfocus="hide('#phoneMessage')">
                                <f:validateRegex pattern="^((\(?\+45\)?)?)(\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2})$" />
                            </h:inputText>
                            <h:message id="phoneMessage" for="phone" styleClass="noBulletPoints validateMessage"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h:commandButton class="btn btn-secondary" value="#{msgs.submit}" action="#{cc.attrs.bean.submit()}"/>
                        </td>
                        <td>
                            <cc:insertChildren/>
                        </td>
                    </tr>
                </table>
            </h:form>
            <br />
        </div>

    </cc:implementation>
</html>