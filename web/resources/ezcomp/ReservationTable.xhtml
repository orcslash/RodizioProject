<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="reservations" type="java.util.ArrayList"/>
        <cc:attribute name="title" type="String"/>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <h:form>
            <h:dataTable id="reservations" value="#{cc.attrs.reservations}" var="res"
                         captionClass="caption"
                         style="width: 80%; "
                         styleClass="table table-hover  table-responsive">

                <!--Table name-->
                <f:facet  name="caption">All the reservations</f:facet>

                <!--Declaration of columns with headers-->
                <!--ID not editable-->
                <h:column headerClass="header">
                    <f:facet name="header">#{msgs.id}</f:facet>
                        #{res.getId()}
                </h:column>

                <!--Name-->
                <h:column>
                    <f:facet name="header">#{msgs.name}</f:facet>
                    <h:inputText class="form-control" size="8" value="#{res.name}" rendered="#{res.editable}" />
                    <h:outputText value="#{res.name}" rendered="#{not res.editable}" />
                </h:column>

                <!--phone-->
                <h:column>
                    <f:facet name="header">#{msgs.phone}</f:facet>
                    <h:inputText class="form-control" size="3" value="#{res.phoneNum}" rendered="#{res.editable}" />
                    <h:outputText value="#{res.phoneNum}" rendered="#{not res.editable}" />
                </h:column>

                <!--Email-->
                <h:column>
                    <f:facet name="header">#{msgs.email}</f:facet>
                    <h:inputText class="form-control" size="3" value="#{res.email}" rendered="#{res.editable}" />
                    <h:outputText value="#{res.email}" rendered="#{not res.editable}" />
                </h:column>

                <!--Date&time-->
                <h:column headerClass="header">
                    <f:facet name="header">#{msgs.date_time}</f:facet>
                    <h:inputText class="form-control" size="3" value="#{res.date_time}" rendered="#{res.editable}" />
                    <h:outputText value="#{res.date_time}" rendered="#{not res.editable}" />
                </h:column>

                <!--Amount-->
                <h:column headerClass="header">
                    <f:facet name="header">#{msgs.people}</f:facet>
                    <h:inputText class="form-control" size="3" value="#{res.people}" rendered="#{res.editable}" />
                    <h:outputText value="#{res.people}" rendered="#{not res.editable}" />
                </h:column>

                <!--Birthday-->
                <h:column>
                    <f:facet name="header">#{msgs.bday}</f:facet>
                    <h:selectBooleanCheckbox  styleClass="bdayCheck" value="#{res.isBirthday}" disabled="#{not res.editable}" />
                </h:column>

                <!--Additional notes-->
                <h:column headerClass="header">
                    <f:facet name="header">#{msgs.additionalNotes}</f:facet>
                    <h:inputText class="form-control" size="3" value="#{res.additionalNotes}" rendered="#{res.editable}" />
                    <h:outputText value="#{res.additionalNotes}" rendered="#{not res.editable}" />
                </h:column>

                <!--update/save button-->
                <h:column>
                    <h:commandButton value=" #{msgs.update}"  action="#{staff.editReservation(res)}" rendered="#{not res.editable}" styleClass="btn-primary-outline btn" />
                    <h:commandButton value="#{msgs.save}" action="#{staff.saveReservation(res)}" rendered="#{res.editable}" styleClass="btn"   />
                </h:column>

                <!--delete button-->
                <h:column>
                    <h:commandButton value="#{msgs.delete}" action="#{staff.deleteReservation(res)}"  styleClass="btn"/>
                </h:column>

            </h:dataTable>
        </h:form>
    </cc:implementation>
</html>